@import 'aspect-ratios'
@import 'layout'
@import 'flexbox'

#persistence-of-sound
	overflow: visible
	
	+wide()
		max-width: 90%
		margin: 0 auto
	
	h1, h2, h3, h4, h5, p, ul, li, aside, img, section, video
		grid-column: 1 / span 12
		
	header
		h2
			grid-column: 1 / span 9
	
	img, video
		max-width: 100%
		
	h2 + p
		margin-top: 0.5em
		
	aside + p
		margin-top: 1em
	
	#title
		grid-column: 1 / span 12
		max-width: 13em
		
		+landscape()
			grid-column: 1 / span 5

	img
		&#trio-square
			display: block
			margin: 2em 0
			
			+landscape()
				display: none
			
		&#trio-landscape
			display: none
			margin-bottom: 2em
			
			+landscape()
				display: block
				grid-column: 1 / span 12
				
	#intro
		grid-column: 1 / span 12
		margin-top: 3em
		margin-bottom: 3em
		transition: all 0.4s ease
		
		+landscape()
			grid-column: 1 / span 5
				
	a.show-explainer
		color: rgba(black, 0.4)
		font-style: italic
				
	.explainer
		display: none
		font-size: 0.95em
		background: rgba(black, 0.04)
		border-radius: 3px
		border: 2px solid rgba(black, 0.05)
		margin: 1.5em 0
		padding: 1.5em 1.5em 1.8em 1.5em
		max-width: 24em
		
		h3
			font-size: 1em
			font-style: italic
	
	// .carousel
	// 	width: 100vw
	// 	margin-left: -5vw
	// 	margin-bottom: 2em
	// 	flexRow()
	// 	overflow: scroll
		
	// 	+landscape()
	// 		display: none
		
	// 	figure
	// 		margin-right: 1em
			
	// 		&:first-of-type
	// 			padding-left: 15vw
				
	// 		&:last-of-type
	// 			padding-right: 15vw
			
	// 		.images
	// 			flexRow()
		
	// 	img
	// 		margin-right: 1em
	// 		max-width: 70vw
	// 		max-height: 60vh
			
	// 		&:last-of-type
	// 			margin-right: 0
				
	// 	figcaption
	// 		margin-top: 0.5em
	// 		font-size: 0.9em
			
	figure
		grid-column: 1 / span 12
		grid-12()
			
		figcaption
			grid-column: 1 / span 12
			font-size: 0.8em
			
			+landscape()
				max-width: 8em
			
	.front
		z-index: 2
	
	#record-cover-the-eccentric-press
		grid-template-rows: 2em 2em 2em 2em 2em auto 2em
		grid-column: 1 / span 12
		margin-top: 3em
		
		+square()
			grid-column: 2 / span 10
		
		+landscape()
			grid-column: 7 / span 6
			grid-template-rows: 2em 2em auto
		
		.front
			grid-column: 1 / span 9
			grid-row: 1 / span 4
			
			+landscape()
				grid-column: 1 / span 8	
			
		.back
			grid-column: 4 / span 9
			grid-row: 3 / span 4
			
			+landscape()
				grid-column: 5 / span 8
		
		figcaption
			grid-column: 4 / span 9
			grid-row: 7 / span 1

			+square()
				grid-column: 10 / span 3
				grid-row: 2 / span 1
				align-self: end
				
			+landscape()
				grid-column: 9 / span 4
				
	#record-cover-factitious-airs
		grid-column: 1 / span 12
		grid-template-rows: 2em 2em 2em 2em 2em auto 2em
		margin-top: 5em
		
		+square()
			grid-column: 2 / span 10

		+landscape()
			grid-column: 1 / span 6
			grid-template-rows: 2em 2em auto
			margin-top: 0
		
		.front
			grid-column: 4 / span 9
			grid-row: 1 / span 4
			
			+landscape()
				grid-column: 5 / span 8
				grid-row: 2 / span 6
			
		.back
			grid-column: 1 / span 9
			grid-row: 3 / span 4
			
			+landscape()
				grid-column: 1 / span 8
				grid-row: 1 / span 6
			
		figcaption
			grid-column: 1 / span 12
			grid-row: 7 / span 1
			max-width: none
			
			+landscape()
				grid-column: 1 / span 4
				margin-bottom: -10em
			
	#vinyl-factitious-airs
		display: none
		
		+landscape()
			grid-column: 7 / span 6
			grid-12()
			align-self: end
			
			img
				grid-column: 4 / span 8

	#record-cover-thames
		grid-column: 1 / span 12
		grid-template-rows: 2em 2em 2em 2em 2em auto 2em
		margin-top: 5em
		
		+square()
			grid-column: 2 / span 10
		
		+landscape()
			grid-column: 5 / span 8
			grid-template-rows: auto
			margin-top: 7em

		.front
			grid-column: 1 / span 9
			grid-row: 3 / span 4
			
			+landscape()
				grid-column: 7 / span 6
				grid-row: 1 / span 1
			
		.back
			grid-column: 4 / span 9
			grid-row: 1 / span 4
			
			+landscape()
				grid-column: 1 / span 6
				grid-row: 1 / span 1
			
		figcaption
			grid-column: 1 / span 12
			max-width: none			
			
			+landscape()
				grid-column: 8 / span 5
				text-align: right
				
	.record-cover, .vinyl
		filter: drop-shadow(0.1em 0.1em 0.2em rgba(black, 0.3))

	#record-covers-text
		grid-column: 1 / span 12
		align-self: end
		margin-top: 2em
		margin-bottom: 2em
		font-size: 1em
		
		+landscape()
			grid-column: 1 / span 4
			grid-row: 6 / span 1
			margin-top: 0
			max-width: 13em
			
	#logo
		grid-column: 1 / span 12
		grid-12()
		margin-top: 7em
		
		img
			background: rgba(black, 0.04)
	
	#logo-one-line
		display: none
		
		+landscape()
			display: block
			
	#logo-two-line
		display: block
		grid-column: 1 / span 12
		
		+square()
			grid-column: 2 / span 10
		
		+landscape()
			display: none

	#logo-text
		grid-column: 1 / span 12
		font-size: 1em
		
		+landscape()
			grid-column: 1 / span 4
			max-width: 18em

	#videos
		grid-column: 1 / span 12
		grid-12()
		margin-top: 7em
			
		.video
			width: 100%
			position: absolute
			top: 0
			
			&.first
				left: 0
				
			&.second
				left: calc(100% + 20px)

				+square()
					left: calc(100% + 2em)
								
			&.third
				left: calc(200% + 40px)
				
				+square()
					left: calc(200% + 4em)

		.video iframe
			width: 100%
			height: "calc( (100vw - 10vw - 20px - (%s * 2) ) * ( 9 / 16 ) )" % col

			+square()
				height: "calc( (100vw - 10vw - 2em - (%s * 2) ) * ( 9 / 16 ) )" % col

			+landscape()
				height: "calc( (100vw - 4em - 2em - (%s * 2) ) * ( 9 / 16 ) )" % col
			
	#video-carousel
		grid-column: 2 / span 10
		with: 100%
		height: "calc( (100vw - 10vw - 20px - (%s * 2) ) * ( 9 / 16 ) )" % col
		position: relative
		transition: all 0.3s ease

		+square()
			height: "calc( (100vw - 10vw - 2em - (%s * 2) ) * ( 9 / 16 ) )" % col

		+landscape()
			height: "calc( (100vw - 4em - 2em - (%s * 2) ) * ( 9 / 16 ) )" % col
		
		&.position-1
			left: 0
			
		&.position-2
			left: calc(-100% - 20px)
			
			+square()
				left: calc(-100% - 2em)
			
		&.position-3
			left: calc(-200% - 40px)
			
			+square()
				left: calc(-200% - 4em)
			
	#video-dots
		grid-column: 1 / span 12
		flexRow()
		width: 100%
		margin-bottom: 1em
		justify-content: center
		position: relative
		transition: all 0.3s ease
		
		.video-dot
			width: 9px
			height: 9px
			border-radius: 100%
			background: rgba(black, 0)
			border: 2px solid rgba(black, 0.2)
			margin: 0.3em
			
			&:hover
				cursor: pointer
			
			&.current
				background: rgba(black, 0.2)
				border: 2px solid rgba(black, 0.05)
				
				&:hover
					cursor: default
			
	#videos-text
		grid-column: 1 / span 12
		
	#website
		grid-column: 1 / span 12
		grid-12()
		margin-top: 7em
		
		+landscape()
			margin-top: 2em
		
	.website
		border-radius: 5px
		filter: drop-shadow(0 0 0.2em rgba(black, 0.3))
		
		+landscape()
			border-radius: 10px
		
	.slide
		grid-column: 1 / span 12
		grid-12()
		
		+landscape()
			margin-top: 5em
			
	#website-one
		grid-column: 2 / span 11
		grid-row: 2 / span 8
				
	#website-two
		grid-column: 1 / span 3
		grid-row: 1 / span 8
		
	#website-three
		grid-column: 1 / span 11
		grid-row: 1 / span 8
	
	#website-four
		grid-column: 10 / span 3
		grid-row: 2 / span 8
		align-self: end
		
	#website-text
		grid-column: 1 / span 12
		margin-top: 2em
		
		+square()
			margin-top: 0

		+wide()
			grid-column: 1 / span 3
			grid-row: 1 / span 8
			align-self: end
			font-size: 1em
			max-width: 11em
		
	#website-five
		grid-column: 2 / span 10
		
		+square()
			grid-column: 1 / span 4
			grid-row: 1 / span 8

		+wide()
			grid-column: 4 / span 3
		
	#website-six
		grid-column: 2 / span 10
		
		+square()
			grid-column: 5 / span 4
			grid-row: 2 / span 8
			
		+wide()
			grid-column: 7 / span 3
		
	#website-seven
		grid-column: 2 / span 10
		
		+square()
			grid-column: 9 / span 4
			grid-row: 3 / span 8

		+wide()
			grid-column: 10 / span 3
		
	#website-eight
		grid-column: 1 / span 11
		grid-row: 1 / span 8
		
	#website-nine
			grid-column: 10 / span 3
			grid-row: 7 / span 3
			
	#slide-3
		display: none
		
		+square()
			display: grid
			
	#slide-4
		display: none
		
		+square()
			display: grid
			margin-top: 3em
			
	#website-carousel
		grid-column: 1 / span 12
		grid-12()
		margin-top: 5em
		margin-bottom: 2em
		
		+square()
			display: none
			
		.website
			position: absolute
			left: 0
			top: 0
			
			&.first
				position: relative
			
		#the-carousel
			grid-column: 3 / span 8
			position: relative
			transition: all 0.3s ease
			text-align: center
			
			&.position-1
				left: 0
				
			&.position-2
				left: calc(-100% - 2em)
				
			&.position-3
				left: calc(-200% - 4em)
				
			img
				max-height: calc(100vh - 8em)
			
		#website-carousel-one
			left: 0
			
		#website-carousel-two
			left: calc(100% + 2em)
			
		#website-carousel-three
			left: calc(200% + 4em)
			
		#dots
			grid-column: 1 / span 12
			flexRow()
			width: 100%
			margin: 1em auto
			justify-content: center
			position: relative
			transition: all 0.3s ease
			
			+square()
				display: none
			
			.dot
				width: 9px
				height: 9px
				border-radius: 100%
				background: rgba(black, 0)
				border: 2px solid rgba(black, 0.2)
				margin: 0.3em
				
				&:hover
					cursor: pointer
				
				&.current
					background: rgba(black, 0.2)
					border: 2px solid rgba(black, 0.05)
					
					&:hover
						cursor: default

	#download-cards
		grid-column: 1 / span 12
		grid-12()
		margin: 7em 0

		+landscape()
			margin: 12em 0
		
		img
			grid-column: 2 / span 10
			transform: rotate(5deg)
			filter: drop-shadow(0.1em 0.1em 0.2em rgba(black, 0.3))
			
			+square()
				max-width: 20em
				margin-left: auto
				margin-right: auto

			+landscape()
				grid-column: 6 / span 7
				grid-row: 1 / span 1
						
	#download-card-text
		grid-column: 1 / span 12
		margin-top: 5em
		font-size: 1em
		
		+landscape()
			grid-column: 1 / span 4
			grid-row: 1 / span 1
			margin-top: 0
			max-width: none
			align-self: center


			
		